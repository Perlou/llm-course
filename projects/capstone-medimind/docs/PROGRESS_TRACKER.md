# MediMind - 开发计划进度表

> 开始日期: 2026-02-03  
> 预计完成: 2026-03-21 (约7周)  
> 负责人: Perlou

---

## 📊 总体进度

```
整体进度: ████░░░░░░░░░░░░░░░░ 20%

Phase 1: ██████████ 80%  环境搭建与基础框架
Phase 2: ██████████ 100% 数据准备与知识库构建
Phase 3: ░░░░░░░░░░ 0%   RAG 核心功能
Phase 4: ░░░░░░░░░░ 0%   安全护栏与合规
Phase 5: ░░░░░░░░░░ 0%   Agent 导诊功能
Phase 6: ░░░░░░░░░░ 0%   多模态报告解读
Phase 7: ░░░░░░░░░░ 0%   前端开发与集成
Phase 8: ░░░░░░░░░░ 0%   测试与部署
```

---

## 📅 Phase 1: 环境搭建与基础框架 (Week 1)

**日期**: 2026-02-03 ~ 2026-02-09  
**状态**: 🔄 进行中

| #    | 任务                   | 预计耗时 | 状态      | 完成日期 | 备注                  |
| ---- | ---------------------- | -------- | --------- | -------- | --------------------- |
| 1.1  | 创建项目目录结构       | 0.5h     | ✅ 已完成 | 02-03    | 基于参考项目结构      |
| 1.2  | 编写项目文档           | 2h       | ✅ 已完成 | 02-03    | PRD/架构/设计/进度    |
| 1.3  | 创建 requirements.txt  | 0.5h     | ✅ 已完成 | 02-03    | 含 FastAPI, LangGraph |
| 1.4  | 搭建 FastAPI 基础框架  | 2h       | ✅ 已完成 | 02-03    | 5个路由模块           |
| 1.5  | 配置 PostgreSQL 数据库 | 1.5h     | ✅ 已完成 | 02-03    | SQLAlchemy 模型定义   |
| 1.6  | 定义数据库模型         | 1.5h     | ✅ 已完成 | 02-03    | Document/Drug/Chat    |
| 1.7  | 配置 Chroma 向量存储   | 1h       | 🔄 待实现 |          | Phase 2 完善          |
| 1.8  | 集成 Gemini API        | 1h       | 🔄 待实现 |          | Phase 3 实现          |
| 1.9  | 集成 Ollama (备选)     | 1h       | 🔄 待实现 |          | Phase 3 实现          |
| 1.10 | 配置日志系统           | 0.5h     | ✅ 已完成 | 02-03    | loguru 配置完成       |

**本周交付物**:

- [x] 完整项目目录结构
- [x] requirements.txt
- [x] FastAPI 应用骨架 (src/api/main.py)
- [x] 数据库模型定义 (src/models/)
- [x] 基础配置文件 (configs/)

---

## 📅 Phase 2: 数据准备与知识库构建 (Week 2)

**日期**: 2026-02-10 ~ 2026-02-16  
**状态**: ✅ 已完成

| #    | 任务                   | 预计耗时 | 状态      | 完成日期 | 备注                        |
| ---- | ---------------------- | -------- | --------- | -------- | --------------------------- |
| 2.1  | 收集疾病科普数据       | 3h       | ✅ 已完成 | 02-03    | 3篇文档(高血压/糖尿病/感冒) |
| 2.2  | 收集药品说明书数据     | 3h       | ✅ 已完成 | 02-03    | 6种常用药品                 |
| 2.3  | 收集检验指标参考数据   | 2h       | ✅ 已完成 | 02-03    | 10项常见指标                |
| 2.4  | 实现医学文档解析器     | 2h       | ✅ 已完成 | 02-03    | parser.py (MD/PDF)          |
| 2.5  | 实现文本分块策略       | 2h       | ✅ 已完成 | 02-03    | chunker.py                  |
| 2.6  | 实现 Embedder 嵌入服务 | 1.5h     | ✅ 已完成 | 02-03    | embedder.py                 |
| 2.7  | 构建疾病知识向量库     | 2h       | ✅ 已完成 | 02-03    | vector_store.py             |
| 2.8  | 构建药品信息数据库     | 2h       | ✅ 已完成 | 02-03    | drugs.json                  |
| 2.9  | 构建检验指标数据库     | 1h       | ✅ 已完成 | 02-03    | indices.json                |
| 2.10 | 编写数据加载脚本       | 1h       | ✅ 已完成 | 02-03    | scripts/load_data.py        |

**本周交付物**:

- [x] 医学知识数据集 (data/medical_docs/)
- [x] 药品数据库 (data/drug_db/)
- [x] 检验指标库 (data/lab_indices/)
- [x] 向量索引 (data/chroma_index/)
- [x] 数据加载脚本

---

## 📅 Phase 3: RAG 核心功能 (Week 3)

**日期**: 2026-02-17 ~ 2026-02-23  
**状态**: ⬜ 待开始

| #    | 任务                 | 预计耗时 | 状态      | 完成日期 | 备注                   |
| ---- | -------------------- | -------- | --------- | -------- | ---------------------- |
| 3.1  | 实现向量检索服务     | 2h       | ⬜ 待开始 |          | retriever.py           |
| 3.2  | 设计健康问答 Prompt  | 2h       | ⬜ 待开始 |          | 医学特化 Prompt        |
| 3.3  | 实现 RAG 问答服务    | 3h       | ⬜ 待开始 |          | rag_service.py         |
| 3.4  | 实现来源引用功能     | 1.5h     | ⬜ 待开始 |          | 标注参考文献           |
| 3.5  | 实现流式响应         | 2h       | ⬜ 待开始 |          | SSE 流式输出           |
| 3.6  | 实现健康问答 API     | 2h       | ⬜ 待开始 |          | POST /health/chat      |
| 3.7  | 实现药品搜索 API     | 2h       | ⬜ 待开始 |          | GET /drug/search       |
| 3.8  | 实现药品详情 API     | 1h       | ⬜ 待开始 |          | GET /drug/{id}         |
| 3.9  | 实现药物相互作用检查 | 2h       | ⬜ 待开始 |          | POST /drug/interaction |
| 3.10 | 编写 RAG 单元测试    | 2h       | ⬜ 待开始 |          | test_rag.py            |

**本周交付物**:

- [ ] src/core/retriever.py
- [ ] src/core/rag_service.py
- [ ] src/api/routes/health_qa.py
- [ ] src/api/routes/drug.py
- [ ] tests/test_rag.py

---

## 📅 Phase 4: 安全护栏与合规 (Week 4)

**日期**: 2026-02-24 ~ 2026-03-02  
**状态**: ⬜ 待开始

| #   | 任务             | 预计耗时 | 状态      | 完成日期 | 备注              |
| --- | ---------------- | -------- | --------- | -------- | ----------------- |
| 4.1 | 设计安全规则配置 | 1h       | ⬜ 待开始 |          | guardrails.yaml   |
| 4.2 | 实现输入安全检查 | 2h       | ⬜ 待开始 |          | 危险意图检测      |
| 4.3 | 实现紧急情况检测 | 2h       | ⬜ 待开始 |          | 紧急症状识别      |
| 4.4 | 实现输出合规检查 | 2h       | ⬜ 待开始 |          | 禁止诊断性语言    |
| 4.5 | 实现自动改写功能 | 2h       | ⬜ 待开始 |          | 诊断→建议语言转换 |
| 4.6 | 实现免责声明注入 | 1h       | ⬜ 待开始 |          | 自动添加声明      |
| 4.7 | 实现护栏中间件   | 2h       | ⬜ 待开始 |          | FastAPI 中间件    |
| 4.8 | 编写护栏测试用例 | 3h       | ⬜ 待开始 |          | 覆盖各种边界情况  |

**本周交付物**:

- [ ] configs/guardrails.yaml
- [ ] src/core/guardrails.py
- [ ] src/api/middleware/guardrail.py
- [ ] tests/test_guardrails.py

---

## 📅 Phase 5: Agent 导诊功能 (Week 5)

**日期**: 2026-03-03 ~ 2026-03-09  
**状态**: ⬜ 待开始

| #   | 任务             | 预计耗时 | 状态      | 完成日期 | 备注             |
| --- | ---------------- | -------- | --------- | -------- | ---------------- |
| 5.1 | 设计导诊状态机   | 2h       | ⬜ 待开始 |          | LangGraph 工作流 |
| 5.2 | 实现症状分析节点 | 2h       | ⬜ 待开始 |          | 症状提取         |
| 5.3 | 实现紧急判断节点 | 2h       | ⬜ 待开始 |          | 紧急症状识别     |
| 5.4 | 实现信息收集节点 | 2h       | ⬜ 待开始 |          | 多轮问询         |
| 5.5 | 实现科室推荐节点 | 2h       | ⬜ 待开始 |          | 基于症状推荐     |
| 5.6 | 实现就医建议生成 | 2h       | ⬜ 待开始 |          | 综合建议         |
| 5.7 | 实现导诊会话管理 | 1.5h     | ⬜ 待开始 |          | 会话状态持久化   |
| 5.8 | 实现导诊 API     | 2h       | ⬜ 待开始 |          | /triage/\*       |
| 5.9 | 编写 Agent 测试  | 2h       | ⬜ 待开始 |          | test_triage.py   |

**本周交付物**:

- [ ] src/core/triage_agent.py
- [ ] src/api/routes/triage.py
- [ ] tests/test_triage.py

---

## 📅 Phase 6: 多模态报告解读 (Week 6)

**日期**: 2026-03-10 ~ 2026-03-16  
**状态**: ⬜ 待开始

| #   | 任务               | 预计耗时 | 状态      | 完成日期 | 备注                 |
| --- | ------------------ | -------- | --------- | -------- | -------------------- |
| 6.1 | 实现图像预处理     | 2h       | ⬜ 待开始 |          | 旋转、增强           |
| 6.2 | 集成 Gemini Vision | 2h       | ⬜ 待开始 |          | 图像分析             |
| 6.3 | 实现报告结构识别   | 3h       | ⬜ 待开始 |          | 表格、数值提取       |
| 6.4 | 实现指标解析服务   | 2h       | ⬜ 待开始 |          | 与参考值对比         |
| 6.5 | 实现异常指标标注   | 2h       | ⬜ 待开始 |          | 高/低/正常判断       |
| 6.6 | 实现解读报告生成   | 2h       | ⬜ 待开始 |          | 综合解读             |
| 6.7 | 实现报告解读 API   | 2h       | ⬜ 待开始 |          | POST /report/analyze |
| 6.8 | 编写多模态测试     | 2h       | ⬜ 待开始 |          | test_report.py       |

**本周交付物**:

- [ ] src/core/report_analyzer.py
- [ ] src/api/routes/report.py
- [ ] tests/test_report.py

---

## 📅 Phase 7: 前端开发与集成 (Week 7)

**日期**: 2026-03-17 ~ 2026-03-21  
**状态**: ⬜ 待开始

| #    | 任务                         | 预计耗时 | 状态      | 完成日期 | 备注                 |
| ---- | ---------------------------- | -------- | --------- | -------- | -------------------- |
| 7.1  | 初始化 Turborepo monorepo    | 1.5h     | ⬜ 待开始 |          | pnpm + turbo.json    |
| 7.2  | 创建 @medimind/config 包     | 0.5h     | ⬜ 待开始 |          | ESLint/Tailwind 配置 |
| 7.3  | 创建 @medimind/types 包      | 1h       | ⬜ 待开始 |          | 共享类型定义         |
| 7.4  | 创建 @medimind/api-client 包 | 2h       | ⬜ 待开始 |          | API 调用封装         |
| 7.5  | 创建 @medimind/ui 组件库     | 3h       | ⬜ 待开始 |          | 基础组件 + 业务组件  |
| 7.6  | 创建 apps/web 应用           | 1h       | ⬜ 待开始 |          | Vite + React         |
| 7.7  | 实现首页和导航               | 2h       | ⬜ 待开始 |          | HomePage.tsx         |
| 7.8  | 实现健康问答页面             | 3h       | ⬜ 待开始 |          | 流式对话、来源引用   |
| 7.9  | 实现药品查询页面             | 2h       | ⬜ 待开始 |          | 搜索、详情           |
| 7.10 | 实现报告解读页面             | 3h       | ⬜ 待开始 |          | 图片上传、结果展示   |
| 7.11 | 实现智能导诊页面             | 3h       | ⬜ 待开始 |          | 多轮对话             |
| 7.12 | API 联调测试                 | 2h       | ⬜ 待开始 |          |                      |

**本周交付物**:

- [ ] frontend/ Turborepo monorepo 完整项目
- [ ] packages/ui 共享组件库
- [ ] packages/api-client API SDK
- [ ] apps/web 完整 Web 应用

---

## 📅 Phase 8: 测试与部署 (Week 7 续)

**日期**: 2026-03-21 ~ 2026-03-23  
**状态**: ⬜ 待开始

| #   | 任务                | 预计耗时 | 状态      | 完成日期 | 备注            |
| --- | ------------------- | -------- | --------- | -------- | --------------- |
| 8.1 | 端到端功能测试      | 3h       | ⬜ 待开始 |          |                 |
| 8.2 | 安全护栏压力测试    | 2h       | ⬜ 待开始 |          | 边界情况        |
| 8.3 | 编写 Dockerfile     | 1h       | ⬜ 待开始 |          |                 |
| 8.4 | 编写 docker-compose | 1h       | ⬜ 待开始 |          |                 |
| 8.5 | Docker 部署测试     | 2h       | ⬜ 待开始 |          |                 |
| 8.6 | 编写用户文档        | 2h       | ⬜ 待开始 |          | USER_GUIDE.md   |
| 8.7 | 编写 API 文档       | 1h       | ⬜ 待开始 |          | OpenAPI/Swagger |

**本周交付物**:

- [ ] docker/Dockerfile
- [ ] docker/docker-compose.yaml
- [ ] docs/USER_GUIDE.md
- [ ] docs/API_DESIGN.md

---

## 📈 进度统计

### 任务统计

| 阶段     | 总任务数 | 已完成 | 进行中 | 完成率 |
| -------- | -------- | ------ | ------ | ------ |
| Phase 1  | 10       | 2      | 0      | 20%    |
| Phase 2  | 10       | 0      | 0      | 0%     |
| Phase 3  | 10       | 0      | 0      | 0%     |
| Phase 4  | 8        | 0      | 0      | 0%     |
| Phase 5  | 9        | 0      | 0      | 0%     |
| Phase 6  | 8        | 0      | 0      | 0%     |
| Phase 7  | 9        | 0      | 0      | 0%     |
| Phase 8  | 7        | 0      | 0      | 0%     |
| **总计** | **71**   | **2**  | **0**  | **3%** |

### 时间统计

| 指标       | 值         |
| ---------- | ---------- |
| 预计总工时 | ~120 小时  |
| 已投入工时 | ~3 小时    |
| 项目状态   | 🔧 规划中  |
| 预计完成   | 2026-03-23 |

---

## 📝 状态图例

| 图标 | 状态   | 说明           |
| ---- | ------ | -------------- |
| ⬜   | 待开始 | 尚未开始       |
| 🔄   | 进行中 | 正在开发       |
| ✅   | 已完成 | 开发并测试通过 |
| ⚠️   | 阻塞   | 遇到阻塞问题   |
| ⏭️   | 跳过   | 任务跳过       |

---

## 🚨 风险追踪

| 风险             | 状态      | 描述               | 缓解措施             |
| ---------------- | --------- | ------------------ | -------------------- |
| 医学数据准确性   | ⬜ 待观察 | 需确保数据来源权威 | 仅使用官方数据源     |
| Gemini API 限制  | ⬜ 待观察 | API 调用限制       | 准备 Ollama 备选方案 |
| 安全护栏覆盖不全 | ⬜ 待观察 | 可能遗漏危险场景   | 充分测试 + 持续迭代  |

---

## 📋 每日更新日志

### 2026-02-03

- 📝 完成项目前期规划讨论
- 📝 创建项目目录结构
- 📝 编写 PRD、技术设计、UI 设计、进度表文档
- 🎯 确定项目方向：面向患者的健康信息服务平台
- 🏗️ 确定前端架构：Turborepo Monorepo（支持多端扩展）

---

## 💡 备注

- 每完成一个任务，将状态更新为 ✅ 并填写完成日期
- 遇到问题时，在备注栏记录并更新风险追踪
- 每周结束时更新进度统计
- 重要的技术决策和变更记录在每日更新日志中
