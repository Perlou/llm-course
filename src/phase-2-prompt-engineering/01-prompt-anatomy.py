"""
æç¤ºè¯ç»“æ„è§£æ (Gemini ç‰ˆæœ¬)
============================

å­¦ä¹ ç›®æ ‡ï¼š
    1. ç†è§£æç¤ºè¯çš„åŸºæœ¬ç»„æˆéƒ¨åˆ†
    2. æŒæ¡ CLEAR åŸåˆ™è®¾è®¡é«˜è´¨é‡æç¤ºè¯
    3. å­¦ä¼šç»“æ„åŒ–ç»„ç»‡å¤æ‚æç¤ºè¯
    4. ç†è§£ä¸Šä¸‹æ–‡å’Œçº¦æŸçš„é‡è¦æ€§

æ ¸å¿ƒæ¦‚å¿µï¼š
    - æç¤ºè¯ç»“æ„ï¼šè§’è‰²ã€ä¸Šä¸‹æ–‡ã€ä»»åŠ¡ã€è¾“å…¥ã€è¾“å‡ºæ ¼å¼ã€ç¤ºä¾‹
    - CLEAR åŸåˆ™ï¼šæ¸…æ™°ã€é€»è¾‘ã€æ˜ç¡®ã€é€‚åº”ã€ç›¸å…³
    - çº¦æŸè®¾å®šï¼šå†…å®¹çº¦æŸã€æ ¼å¼çº¦æŸã€è´¨é‡çº¦æŸ

å‰ç½®çŸ¥è¯†ï¼š
    - Phase 1 LLM åŸºç¡€
    - Gemini API åŸºç¡€ä½¿ç”¨

ç¯å¢ƒè¦æ±‚ï¼š
    - pip install google-generativeai python-dotenv
    - é…ç½® GOOGLE_API_KEY
"""

import os
from dotenv import load_dotenv

# åŠ è½½ç¯å¢ƒå˜é‡
load_dotenv()


# ==================== ç¬¬ä¸€éƒ¨åˆ†ï¼šæç¤ºè¯çš„é‡è¦æ€§ ====================


def introduction():
    """æç¤ºè¯å·¥ç¨‹ä»‹ç»"""
    print("=" * 60)
    print("ç¬¬ä¸€éƒ¨åˆ†ï¼šæç¤ºè¯å·¥ç¨‹æ¦‚è¿°")
    print("=" * 60)

    intro_text = """
    ä»€ä¹ˆæ˜¯æç¤ºè¯å·¥ç¨‹ï¼ˆPrompt Engineeringï¼‰ï¼Ÿ
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    
    æç¤ºè¯å·¥ç¨‹æ˜¯è®¾è®¡å’Œä¼˜åŒ–è¾“å…¥æ–‡æœ¬ï¼ˆæç¤ºè¯ï¼‰çš„æŠ€æœ¯ä¸è‰ºæœ¯ï¼Œ
    æ—¨åœ¨å¼•å¯¼å¤§å‹è¯­è¨€æ¨¡å‹ç”ŸæˆæœŸæœ›è¾“å‡ºçš„ç³»ç»Ÿæ€§æ–¹æ³•ã€‚
    
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                    æç¤ºè¯å·¥ç¨‹æµç¨‹                         â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚                                                         â”‚
    â”‚   ç”¨æˆ·æ„å›¾  â†’  æç¤ºè¯è®¾è®¡  â†’  LLMå¤„ç†  â†’  è¾“å‡ºç»“æœ        â”‚
    â”‚      â†‘                                      â”‚           â”‚
    â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ è¯„ä¼°ä¸è¿­ä»£ â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
    â”‚                                                         â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    
    ä¸ºä»€ä¹ˆæç¤ºè¯å·¥ç¨‹é‡è¦ï¼Ÿ
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    
    | æ–¹é¢         | å½±å“                           |
    |-------------|-------------------------------|
    | è¾“å‡ºè´¨é‡     | å¥½çš„æç¤ºè¯å¯å°†è¾“å‡ºè´¨é‡æå‡æ•°å€   |
    | æ•ˆç‡æå‡     | å‡å°‘æ¥å›ä¿®æ­£çš„æ¬¡æ•°              |
    | æˆæœ¬æ§åˆ¶     | å‡å°‘ Token æ¶ˆè€—ï¼Œé™ä½ API æˆæœ¬  |
    | ä¸€è‡´æ€§       | ç¡®ä¿è¾“å‡ºæ ¼å¼å’Œé£æ ¼çš„ä¸€è‡´æ€§       |
    | è§£é”èƒ½åŠ›     | æŒ–æ˜æ¨¡å‹çš„éšè—æ½œåŠ›              |
    """
    print(intro_text)


# ==================== ç¬¬äºŒéƒ¨åˆ†ï¼šæç¤ºè¯çš„å…­å¤§ç»„æˆéƒ¨åˆ† ====================


def prompt_structure():
    """æç¤ºè¯çš„å®Œæ•´ç»“æ„"""
    print("\n" + "=" * 60)
    print("ç¬¬äºŒéƒ¨åˆ†ï¼šæç¤ºè¯çš„å…­å¤§ç»„æˆéƒ¨åˆ†")
    print("=" * 60)

    structure_text = """
    å®Œæ•´æç¤ºè¯ç»“æ„ï¼š
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚         å®Œæ•´æç¤ºè¯ç»“æ„                    â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ 1. è§’è‰²è®¾å®š (Role)                       â”‚
    â”‚    â””â”€ å®šä¹‰ AI åº”è¯¥æ‰®æ¼”çš„è§’è‰²              â”‚
    â”‚                                         â”‚
    â”‚ 2. ä¸Šä¸‹æ–‡ (Context)                      â”‚
    â”‚    â””â”€ æä¾›èƒŒæ™¯ä¿¡æ¯å’Œçº¦æŸæ¡ä»¶              â”‚
    â”‚                                         â”‚
    â”‚ 3. ä»»åŠ¡æŒ‡ä»¤ (Instruction)                â”‚
    â”‚    â””â”€ æ˜ç¡®è¯´æ˜éœ€è¦å®Œæˆçš„ä»»åŠ¡              â”‚
    â”‚                                         â”‚
    â”‚ 4. è¾“å…¥æ•°æ® (Input)                      â”‚
    â”‚    â””â”€ éœ€è¦å¤„ç†çš„å…·ä½“å†…å®¹                  â”‚
    â”‚                                         â”‚
    â”‚ 5. è¾“å‡ºæ ¼å¼ (Output Format)              â”‚
    â”‚    â””â”€ æœŸæœ›çš„è¾“å‡ºæ ¼å¼å’Œç»“æ„                â”‚
    â”‚                                         â”‚
    â”‚ 6. ç¤ºä¾‹ (Examples) [å¯é€‰]                â”‚
    â”‚    â””â”€ è¾“å…¥è¾“å‡ºçš„å‚è€ƒç¤ºä¾‹                  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    """
    print(structure_text)

    # å®é™…æ¼”ç¤º
    print("\nğŸ“Œ å®é™…ç¤ºä¾‹å¯¹æ¯”ï¼š")
    print("-" * 40)

    import google.generativeai as genai

    genai.configure(api_key=os.getenv("GOOGLE_API_KEY"))
    model = genai.GenerativeModel("gemini-2.0-flash")

    # ç®€å•çš„æç¤ºè¯
    simple_prompt = "å¸®æˆ‘å†™ä¸ªä»£ç å®¡æŸ¥åé¦ˆ"

    print("\nâŒ ç®€å•æç¤ºè¯ï¼š")
    print(f'   "{simple_prompt}"')

    response1 = model.generate_content(
        simple_prompt, generation_config={"max_output_tokens": 200}
    )
    print(f"\n   å›å¤ï¼ˆæˆªå–ï¼‰ï¼š{response1.text[:150]}...")

    # ç»“æ„åŒ–çš„æç¤ºè¯
    structured_prompt = """# è§’è‰²è®¾å®š
ä½ æ˜¯ä¸€ä½èµ„æ·±çš„ Python æŠ€æœ¯ä¸“å®¶ï¼Œæ“…é•¿ä»£ç å®¡æŸ¥å’Œä¼˜åŒ–ã€‚

# ä¸Šä¸‹æ–‡
æˆ‘æ­£åœ¨å¼€å‘ä¸€ä¸ªé«˜å¹¶å‘çš„ Web åº”ç”¨ï¼Œéœ€è¦ç¡®ä¿ä»£ç è´¨é‡å’Œæ€§èƒ½ã€‚

# ä»»åŠ¡æŒ‡ä»¤
è¯·å®¡æŸ¥ä»¥ä¸‹ä»£ç ï¼ŒæŒ‡å‡ºé—®é¢˜å¹¶æä¾›ä¼˜åŒ–å»ºè®®ã€‚

# è¾“å…¥æ•°æ®
```python
def get_user(id):
    users = db.query("SELECT * FROM users")
    for user in users:
        if user.id == id:
            return user
    return None
```

# è¾“å‡ºæ ¼å¼
è¯·æŒ‰ä»¥ä¸‹æ ¼å¼è¾“å‡ºï¼š
1. é—®é¢˜åˆ—è¡¨ï¼ˆæŒ‰ä¸¥é‡ç¨‹åº¦æ’åºï¼‰
2. ä¼˜åŒ–åçš„ä»£ç 
3. ä¼˜åŒ–è¯´æ˜"""

    print("\n\nâœ… ç»“æ„åŒ–æç¤ºè¯ï¼š")
    print("   ï¼ˆåŒ…å«è§’è‰²ã€ä¸Šä¸‹æ–‡ã€ä»»åŠ¡ã€è¾“å…¥ã€è¾“å‡ºæ ¼å¼ï¼‰")

    response2 = model.generate_content(
        structured_prompt, generation_config={"max_output_tokens": 500}
    )
    print(f"\n   å›å¤ï¼š\n{response2.text}")

    print("\nğŸ’¡ ç»“è®ºï¼šç»“æ„åŒ–çš„æç¤ºè¯èƒ½è·å¾—æ›´ä¸“ä¸šã€æ›´ç¬¦åˆéœ€æ±‚çš„å›å¤")


# ==================== ç¬¬ä¸‰éƒ¨åˆ†ï¼šCLEAR åŸåˆ™ ====================


def clear_principles():
    """CLEAR åŸåˆ™è¯¦è§£"""
    print("\n" + "=" * 60)
    print("ç¬¬ä¸‰éƒ¨åˆ†ï¼šCLEAR åŸåˆ™")
    print("=" * 60)

    principles_text = """
    CLEAR åŸåˆ™æ˜¯è®¾è®¡é«˜è´¨é‡æç¤ºè¯çš„äº”å¤§æ ¸å¿ƒåŸåˆ™ï¼š
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    
    C - Clearï¼ˆæ¸…æ™°ï¼‰
        ä½¿ç”¨æ˜ç¡®ã€æ— æ­§ä¹‰çš„è¯­è¨€
        
    L - Logicalï¼ˆé€»è¾‘ï¼‰
        ä¿æŒé€»è¾‘è¿è´¯æ€§
        
    E - Explicitï¼ˆæ˜ç¡®ï¼‰
        æ˜ç¡®è¯´æ˜æœŸæœ›çš„è¾“å‡º
        
    A - Adaptiveï¼ˆé€‚åº”ï¼‰
        æ ¹æ®ç»“æœè°ƒæ•´ä¼˜åŒ–
        
    R - Relevantï¼ˆç›¸å…³ï¼‰
        åªåŒ…å«ç›¸å…³ä¿¡æ¯
    """
    print(principles_text)

    import google.generativeai as genai

    genai.configure(api_key=os.getenv("GOOGLE_API_KEY"))
    model = genai.GenerativeModel("gemini-2.0-flash")

    # æ¼”ç¤ºï¼šå…·ä½“ vs æ¨¡ç³Š
    print("\nğŸ“Œ åŸåˆ™ä¸€ï¼šå…·ä½“è€Œéæ¨¡ç³Š")
    print("-" * 40)

    vague_prompt = "å¸®æˆ‘å†™ç‚¹ä¸œè¥¿ä»‹ç»äººå·¥æ™ºèƒ½"
    specific_prompt = """è¯·æ’°å†™ä¸€ç¯‡ 200 å­—çš„ç§‘æ™®æ–‡ç« ï¼Œé¢å‘æ²¡æœ‰æŠ€æœ¯èƒŒæ™¯çš„è¯»è€…ï¼Œ
ä»‹ç»äººå·¥æ™ºèƒ½çš„ä¸‰ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼šæœºå™¨å­¦ä¹ ã€æ·±åº¦å­¦ä¹ å’Œç¥ç»ç½‘ç»œã€‚
ä½¿ç”¨ç”Ÿæ´»ä¸­çš„ç±»æ¯”æ¥è§£é‡Šè¿™äº›æ¦‚å¿µã€‚"""

    print(f'\nâŒ æ¨¡ç³Š: "{vague_prompt}"')
    print(f'\nâœ… å…·ä½“: "{specific_prompt}"')

    response = model.generate_content(
        specific_prompt, generation_config={"max_output_tokens": 400}
    )
    print(f"\nğŸ“¤ å…·ä½“æç¤ºè¯çš„å›å¤ï¼š\n{response.text}")

    # æ¼”ç¤ºï¼šåˆ†æ­¥éª¤æ‹†è§£
    print("\n\nğŸ“Œ åŸåˆ™äºŒï¼šåˆ†æ­¥éª¤æ‹†è§£å¤æ‚ä»»åŠ¡")
    print("-" * 40)

    step_by_step_prompt = """è¯·æŒ‰ä»¥ä¸‹æ­¥éª¤åˆ†æè¿™æ®µé”€å”®æ•°æ®çš„å…³é”®ç‚¹ï¼š

æ•°æ®ï¼šæŸç”µå•†åº—é“ºæœˆé”€å”®é¢åˆ†åˆ«ä¸º 10ä¸‡ã€12ä¸‡ã€8ä¸‡ã€15ä¸‡ã€20ä¸‡ã€18ä¸‡

æ­¥éª¤ï¼š
1. é¦–å…ˆï¼Œæ‰¾å‡ºæœ€é«˜å’Œæœ€ä½çš„æœˆä»½
2. ç„¶åï¼Œè®¡ç®—å¹³å‡æœˆé”€å”®é¢
3. æ¥ç€ï¼Œè¯†åˆ«å¢é•¿å’Œä¸‹é™çš„è¶‹åŠ¿
4. æœ€åï¼Œç»™å‡º 2 æ¡ä¸šåŠ¡å»ºè®®"""

    print(f"âœ… åˆ†æ­¥éª¤æç¤ºè¯ï¼š")
    print(step_by_step_prompt)

    response2 = model.generate_content(
        step_by_step_prompt, generation_config={"max_output_tokens": 400}
    )
    print(f"\nğŸ“¤ å›å¤ï¼š\n{response2.text}")


# ==================== ç¬¬å››éƒ¨åˆ†ï¼šçº¦æŸä¸è¾¹ç•Œè®¾å®š ====================


def constraints_demo():
    """çº¦æŸä¸è¾¹ç•Œè®¾å®šæ¼”ç¤º"""
    print("\n" + "=" * 60)
    print("ç¬¬å››éƒ¨åˆ†ï¼šçº¦æŸä¸è¾¹ç•Œè®¾å®š")
    print("=" * 60)

    constraints_text = """
    çº¦æŸç±»å‹ï¼š
    â”€â”€â”€â”€â”€â”€â”€â”€â”€
    
    1. å†…å®¹çº¦æŸ
       - å­—æ•°é™åˆ¶ï¼šæ§åˆ¶è¾“å‡ºé•¿åº¦
       - ä¸»é¢˜èŒƒå›´ï¼šé™å®šè®¨è®ºèŒƒå›´
       - æ’é™¤å†…å®¹ï¼šæ˜ç¡®ä¸åº”åŒ…å«çš„å†…å®¹
    
    2. æ ¼å¼çº¦æŸ
       - ç»“æ„è¦æ±‚ï¼šæ ‡é¢˜ã€æ®µè½ã€åˆ—è¡¨ç­‰
       - è¯­è¨€é£æ ¼ï¼šæ­£å¼/éæ­£å¼ã€æŠ€æœ¯/é€šä¿—
       - ç‰¹æ®Šæ ¼å¼ï¼šJSONã€è¡¨æ ¼ã€ä»£ç ç­‰
    
    3. è´¨é‡çº¦æŸ
       - å‡†ç¡®æ€§è¦æ±‚
       - åŸåˆ›æ€§è¦æ±‚
       - å¼•ç”¨è¦æ±‚
    """
    print(constraints_text)

    import google.generativeai as genai

    genai.configure(api_key=os.getenv("GOOGLE_API_KEY"))
    model = genai.GenerativeModel("gemini-2.0-flash")

    # å¸¦çº¦æŸçš„æç¤ºè¯
    constrained_prompt = """è¯·å†™ä¸€æ®µäº§å“ä»‹ç»ï¼Œä¸»é¢˜æ˜¯"æ™ºèƒ½æ‰‹è¡¨"ã€‚

ã€å†…å®¹çº¦æŸã€‘
- å­—æ•°ï¼š100-150 å­—
- å¿…é¡»åŒ…å«ï¼šå¥åº·ç›‘æµ‹ã€è¿åŠ¨è¿½è¸ªã€æ¶ˆæ¯é€šçŸ¥
- ä¸è¦åŒ…å«ï¼šä»·æ ¼ä¿¡æ¯ã€ä¸ç«å“å¯¹æ¯”

ã€æ ¼å¼çº¦æŸã€‘
- ä½¿ç”¨ç®€æ´æœ‰åŠ›çš„çŸ­å¥
- å¼€å¤´è¦æœ‰å¸å¼•çœ¼çƒçš„å¼•è¨€
- ç»“å°¾è¦æœ‰è¡ŒåŠ¨å·å¬

ã€è¯­è¨€é£æ ¼ã€‘
- é¢å‘å¹´è½»æ¶ˆè´¹è€…
- æ´»æ³¼ä½†ä¸å¤±ä¸“ä¸š"""

    print("\nğŸ“Œ å¸¦çº¦æŸçš„æç¤ºè¯æ¼”ç¤ºï¼š")
    print(constrained_prompt)

    response = model.generate_content(
        constrained_prompt, generation_config={"max_output_tokens": 300}
    )
    print(f"\nğŸ“¤ å›å¤ï¼š\n{response.text}")

    # éªŒè¯å­—æ•°
    reply = response.text
    char_count = len(reply.replace(" ", "").replace("\n", ""))
    print(f"\nğŸ“Š å­—ç¬¦æ•°ç»Ÿè®¡ï¼š{char_count} ä¸ªå­—ç¬¦")


# ==================== ç¬¬äº”éƒ¨åˆ†ï¼šå®æˆ˜å¯¹æ¯” ====================


def practical_comparison():
    """å®æˆ˜å¯¹æ¯”ï¼šä¼˜åŒ–å‰åçš„æç¤ºè¯"""
    print("\n" + "=" * 60)
    print("ç¬¬äº”éƒ¨åˆ†ï¼šå®æˆ˜å¯¹æ¯”")
    print("=" * 60)

    import google.generativeai as genai

    genai.configure(api_key=os.getenv("GOOGLE_API_KEY"))
    model = genai.GenerativeModel("gemini-2.0-flash")

    # åœºæ™¯ï¼šå®¢æœå›å¤
    print("\nğŸ“Œ åœºæ™¯ï¼šç”µå•†å®¢æœå›å¤")
    print("-" * 40)

    customer_complaint = "æˆ‘ä¹°çš„æ‰‹æœºå£³ä¸¤å¤©å°±è£‚äº†ï¼Œå¤ªå·®äº†ï¼"

    # æœªä¼˜åŒ–çš„æç¤ºè¯
    bad_prompt = f"å›å¤è¿™ä¸ªå®¢æˆ·æŠ•è¯‰ï¼š{customer_complaint}"

    print(f'\nâŒ æœªä¼˜åŒ–æç¤ºè¯ï¼š"{bad_prompt}"')

    response1 = model.generate_content(
        bad_prompt, generation_config={"max_output_tokens": 200}
    )
    print(f"   å›å¤ï¼š{response1.text}")

    # ä¼˜åŒ–åçš„æç¤ºè¯
    good_prompt = f"""ä½ æ˜¯ç”µå•†å¹³å°å®¢æœ"å°æ™º"ï¼Œå¤„ç†å®¢æˆ·æŠ•è¯‰ã€‚

ã€å®¢æœåŸåˆ™ã€‘
1. å…ˆå…±æƒ…ï¼Œè¡¨ç¤ºç†è§£
2. çœŸè¯šé“æ­‰
3. æä¾›è§£å†³æ–¹æ¡ˆ
4. ç¡®ä¿å®¢æˆ·æ»¡æ„

ã€å›å¤è¦æ±‚ã€‘
- è¯­æ°”ï¼šæ¸©å’Œã€ä¸“ä¸š
- é•¿åº¦ï¼š50-100 å­—
- å¿…é¡»åŒ…å«ï¼šé“æ­‰ + è§£å†³æ–¹æ¡ˆ

å®¢æˆ·åé¦ˆï¼š{customer_complaint}

è¯·ç”Ÿæˆå›å¤ï¼š"""

    print(f"\nâœ… ä¼˜åŒ–åæç¤ºè¯ï¼š")
    print(good_prompt)

    response2 = model.generate_content(
        good_prompt, generation_config={"max_output_tokens": 200}
    )
    print(f"\n   å›å¤ï¼š{response2.text}")


# ==================== ç¬¬å…­éƒ¨åˆ†ï¼šç»ƒä¹ ä¸æ€è€ƒ ====================


def exercises():
    """ç»ƒä¹ é¢˜"""
    print("\n" + "=" * 60)
    print("ç»ƒä¹ ä¸æ€è€ƒ")
    print("=" * 60)

    exercises_text = """
    ç»ƒä¹  1ï¼šæ”¹å†™ç®€å•æç¤ºè¯
        å°†ä»¥ä¸‹ç®€å•æç¤ºè¯æ”¹å†™æˆç»“æ„åŒ–çš„å®Œæ•´æç¤ºè¯ï¼š
        "å¸®æˆ‘å†™ä¸ªé‚®ä»¶è¯·å‡"
        
        æç¤ºï¼šæ·»åŠ è§’è‰²ã€ä¸Šä¸‹æ–‡ã€å…·ä½“è¦æ±‚ã€è¾“å‡ºæ ¼å¼

    ç»ƒä¹  2ï¼šåº”ç”¨ CLEAR åŸåˆ™
        è¯„ä¼°ä»¥ä¸‹æç¤ºè¯ï¼ŒæŒ‡å‡ºè¿åäº†å“ªäº› CLEAR åŸåˆ™ï¼š
        "å†™ä¸ªå¥½çœ‹çš„ç½‘é¡µï¼Œè¦æœ‰åŠ¨ç”»æ•ˆæœï¼Œè¿˜è¦å“åº”å¼ï¼Œ
         æœ€å¥½ç”¨æœ€æ–°çš„æŠ€æœ¯ï¼Œä½†ä¸è¦å¤ªå¤æ‚ã€‚"

    ç»ƒä¹  3ï¼šè®¾è®¡çº¦æŸæ¡ä»¶
        ä¸ºä»¥ä¸‹ä»»åŠ¡è®¾è®¡å®Œæ•´çš„çº¦æŸæ¡ä»¶ï¼š
        ä»»åŠ¡ï¼šè®© AI ä¸ºå„¿ç«¥å†™ä¸€ä¸ªç¡å‰æ•…äº‹
        
        æ€è€ƒï¼šéœ€è¦å“ªäº›å†…å®¹çº¦æŸã€æ ¼å¼çº¦æŸã€å®‰å…¨çº¦æŸï¼Ÿ

    æ€è€ƒé¢˜ï¼š
        1. æç¤ºè¯è¶Šé•¿è¶Šå¥½å—ï¼Ÿä»€ä¹ˆæ—¶å€™ç®€çŸ­çš„æç¤ºè¯æ›´æœ‰æ•ˆï¼Ÿ
        2. å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªæç¤ºè¯æ˜¯å¦"è¶³å¤Ÿå¥½"ï¼Ÿ
        3. ä¸åŒçš„ LLM æ¨¡å‹å¯¹æç¤ºè¯çš„æ•æ„Ÿåº¦ç›¸åŒå—ï¼Ÿ
    """
    print(exercises_text)


# ==================== ä¸»å‡½æ•° ====================


def main():
    """ä¸»å‡½æ•° - æŒ‰é¡ºåºæ‰§è¡Œæ‰€æœ‰éƒ¨åˆ†"""
    print("ğŸš€ æç¤ºè¯ç»“æ„è§£æ (Gemini ç‰ˆæœ¬)")
    print("=" * 60)
    print("ğŸ’¡ æœ¬è¯¾ç¨‹ä½¿ç”¨ Google Gemini APIï¼ˆå…è´¹é¢åº¦è¾ƒå¤šï¼‰")
    print("é¢„ä¼°æ¶ˆè€—ï¼šçº¦ 2000-3000 tokens")
    print("=" * 60)

    # æ£€æŸ¥ç¯å¢ƒ
    api_key = os.getenv("GOOGLE_API_KEY")
    if not api_key:
        print("âŒ é”™è¯¯ï¼šæœªè®¾ç½® GOOGLE_API_KEY ç¯å¢ƒå˜é‡")
        return

    print(f"âœ… API Key å·²é…ç½®: {api_key[:8]}...{api_key[-4:]}")

    # æŒ‰é¡ºåºæ‰§è¡Œå„éƒ¨åˆ†
    try:
        introduction()
        prompt_structure()
        clear_principles()
        constraints_demo()
        practical_comparison()
        exercises()
    except Exception as e:
        print(f"\nâŒ å‘ç”Ÿé”™è¯¯: {e}")
        import traceback

        traceback.print_exc()
        return

    print("\n" + "=" * 60)
    print("âœ… è¯¾ç¨‹å®Œæˆï¼")
    print("ä¸‹ä¸€æ­¥ï¼š02-system-prompts.pyï¼ˆç³»ç»Ÿæç¤ºè¯è®¾è®¡ï¼‰")
    print("=" * 60)


if __name__ == "__main__":
    main()
